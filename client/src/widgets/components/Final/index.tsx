import React from 'react'
import cn from 'classnames'
import { useInView } from 'react-intersection-observer'
import { usePostsCountPage } from '../../lib/hooks/usePostsCountPage'

import { SignUp } from '../../../features'

import classes from './Final.module.sass'

const Final: React.FC = React.memo(() => {
  const { ref, inView } = useInView()
  usePostsCountPage(inView)

  return (
    <div className={classes.container} ref={ref}>
      <div className={classes.final}>
        <h2 className={classes.text}>Get discovered by</h2>
        <h2 className={cn(classes.text, classes.mb_2)}>your community</h2>
        <SignUp final />
      </div>

      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="559"
        height="440"
        viewBox="0 0 559 440"
        fill="none"
      >
        <path
          d="M424.476 -14.0034C423.83 -13.6447 401.136 -1.24631 374.049 13.6256C346.963 28.4975 324.408 40.7513 323.925 40.9232C323.245 41.1507 320.085 38.003 304.264 21.3566C293.923 10.47 283.483 -0.529022 281.097 -3.12263C278.646 -5.69771 276.608 -7.75703 276.477 -7.71992C276.346 -7.68284 274.683 -2.64291 272.796 3.44459C269.54 14.0674 266.362 24.1756 248.913 80.1503C237.535 116.586 234.585 126.208 229.844 141.469C227.489 149.025 225.464 155.257 225.333 155.294C225.071 155.368 225.544 157.765 215.587 107.86C211.013 84.7615 207.015 65.0147 206.764 64.0315L206.36 62.1775L183.992 71.1797C162.729 79.6933 161.566 80.0928 160.422 79.3272C158.725 78.1905 134.77 61.21 106.392 41.0879C93.4098 31.8277 82.6604 24.2905 82.5293 24.3275C82.3327 24.3832 80.1031 30.7786 62.0058 82.2971C49.8552 116.948 50.0898 116.355 49.4344 116.54C49.1067 116.633 38.0498 115.861 24.8254 114.859C11.6666 113.838 0.864188 113.099 0.880956 113.165C1.14775 113.933 49.8234 245.672 59.2097 270.958C65.8061 288.775 71.1221 303.509 70.9758 303.761C70.895 303.995 61.4802 310.877 50.1769 319.032C38.8736 327.188 29.5974 333.926 29.631 334.057C29.6477 334.122 49.0976 342.149 72.7986 351.82C96.5409 361.515 126.254 373.667 138.885 378.809C151.452 383.969 161.847 388.338 161.873 388.576C161.923 388.773 155.851 397.732 148.345 408.503C140.822 419.209 129.359 435.669 122.83 445.039L110.985 462.065L137.827 477.56C152.619 486.062 164.826 492.976 164.998 492.962C165.26 492.888 167.956 487.766 181.671 461.565C184.294 456.57 188.85 447.864 191.822 442.172C194.794 436.481 199.203 428.027 201.606 423.41C204.01 418.793 206.056 414.98 206.122 414.962C206.253 414.925 233.729 436.603 280.077 473.255C310.817 497.524 316.272 501.815 316.493 501.717C316.624 501.68 317.072 499.585 317.485 497.078C317.898 494.571 319.839 483.477 321.715 472.401C323.632 461.349 325.262 451.925 325.317 451.453C325.428 450.788 348.283 446.71 425.546 433.453C480.593 424.024 525.721 416.207 525.819 416.039C525.916 415.87 520.207 405.782 513.059 393.64C502.638 375.711 500.251 371.325 500.641 370.653C500.91 370.19 507.299 362.195 514.764 352.912C522.295 343.61 535.318 327.482 543.721 317.054C552.123 306.627 559.009 297.965 558.976 297.834C558.926 297.637 540.268 288.999 492.326 266.998C481.707 262.165 472.986 258.025 472.895 257.805C472.779 257.627 471.583 247.597 470.212 235.507C468.907 223.399 467.76 213.284 467.693 213.022C467.65 212.718 448.515 218.696 425.221 226.273C401.926 233.851 381.572 240.42 379.999 240.865L377.132 241.747L379.743 239.04C381.154 237.551 385.249 233.228 388.814 229.442C392.404 225.615 398.49 219.182 402.356 215.065C443.318 171.732 454.706 159.651 460.768 153.261C464.634 149.144 473.82 139.444 481.203 131.625C488.562 123.848 494.566 117.368 494.508 117.279C494.474 117.148 484.867 114.349 473.115 110.997C425.934 97.6029 426.394 97.7538 426.357 97.0612C426.364 96.6728 426.283 71.4941 426.231 41.0701C426.178 10.646 426 -14.3645 425.877 -14.435C425.712 -14.529 425.098 -14.32 424.476 -14.0034ZM422.515 45.7773C422.553 75.1859 422.687 99.6114 422.788 100.005C422.922 100.529 426.161 101.651 434.979 104.111C468.525 113.526 487.197 118.927 487.298 119.32C487.348 119.517 472.054 135.972 453.265 155.806C434.519 175.664 406.977 204.829 392.073 220.612C377.192 236.352 365.013 249.325 365.046 249.456C365.104 249.545 387.449 242.377 414.708 233.537C453.279 220.968 464.329 217.594 464.456 218.226C464.8 219.71 469.203 259.448 469.083 259.939C469.019 260.238 480.306 265.619 499.259 274.315C515.909 281.974 534.113 290.354 539.691 292.923C545.268 295.492 550.599 297.92 551.553 298.353L553.255 299.101L551.765 301.105C550.934 302.254 540.983 314.596 529.671 328.623C518.359 342.651 506.11 357.822 502.45 362.338C497.308 368.749 495.858 370.776 496.009 371.366C496.127 371.825 501.554 381.361 508.147 392.57C514.674 403.798 519.944 413.132 519.846 413.3C519.708 413.445 475.465 421.152 421.525 430.373C367.559 439.637 323.152 447.25 322.849 447.301C322.563 447.417 320.551 457.687 318.372 470.325C316.201 482.855 314.307 493.584 314.179 494.182C313.938 495.164 313.757 495.005 304.469 487.687C299.236 483.579 283.866 471.444 270.343 460.756C256.819 450.067 236.603 434.102 225.429 425.314C214.278 416.485 205.065 409.321 205 409.339C204.893 409.334 195.741 426.722 184.673 447.886C173.581 469.092 164.324 486.756 164.08 487.176C163.666 487.891 162.448 487.252 139.935 474.397L116.188 460.838L117.971 458.33C118.965 456.994 128.613 443.191 139.433 427.651C150.252 412.111 161.089 396.637 163.449 393.227C165.851 389.84 167.772 386.907 167.738 386.776C167.688 386.579 135.919 373.533 67.1022 345.489C50.6628 338.789 37.1835 333.219 37.1256 333.13C37.1089 333.065 45.7555 326.751 56.3562 319.146L75.5791 305.27L75.2101 303.828C74.8671 302.624 62.7977 269.872 14.6389 139.604C10.1248 127.455 6.72212 117.452 6.98429 117.378C7.24645 117.303 17.4498 118.036 29.7383 118.951C42.0024 119.909 52.1402 120.66 52.2713 120.623C52.4679 120.567 62.1315 93.2279 79.1528 44.5095C83.362 32.5275 84.2841 30.0874 84.6133 30.2754C84.6956 30.3224 92.0763 35.5443 101.047 41.8979C109.976 48.228 126.385 59.8926 137.498 67.749C148.61 75.6054 158.413 82.6022 159.245 83.2453L160.786 84.4611L182.139 75.8869C193.839 71.2046 203.549 67.4017 203.648 67.5142C203.772 67.5847 208.469 90.7538 214.073 118.974C219.717 147.218 224.406 170.213 224.586 170.092C224.7 169.99 227.95 159.755 231.846 147.37C235.7 134.961 239.691 122.127 240.715 118.85C241.739 115.572 244.586 106.506 247.004 98.6516C254.261 75.3677 266.945 34.6959 274.073 11.7299C276.032 5.51629 277.759 0.177055 277.93 -0.117284C278.149 -0.495736 278.783 -0.0777025 280.376 1.61553C289.53 11.4322 321.956 45.4523 322.285 45.6403C322.532 45.7813 345.145 33.6166 372.518 18.6285C399.891 3.64028 422.324 -8.40319 422.35 -8.16452C422.417 -7.9023 422.476 16.3687 422.515 45.7773Z"
          fill="white"
        />
      </svg>
    </div>
  )
})

export { Final }
